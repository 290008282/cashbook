import{i as d}from"./index-6a4d2d06.js";import{m as y}from"./api.analysis-95095a50.js";import{d as h,r as g,o as b,j as f,k as x,s as c,G as _,t as S,F as v,S as w,f as p,a2 as B,T as D,N as F}from"./index-83f5659e.js";const z=h({__name:"MonthBar",props:["title","style"],setup(n){const o=[],s=[],r=[],i=[],t=g({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{feature:{}},xAxis:{name:"年月",type:"category",data:["1月","2月","3月","4月","5月","6月","7月"]},yAxis:{name:"金额(元)",type:"value"},legend:{selected:{支出:!0,收入:!0,不计收支:!1},data:[{name:"支出",textStyle:{color:"rgba(217,159,8, 0.9)"}},{name:"收入",textStyle:{color:"rgba(76, 152, 112, 0.9)"}},{name:"不计收支",textStyle:{color:"rgba(66, 66, 66, 0.9)"}}]},series:[{name:"支出",data:[120,200,150,80,70,110,130],type:"bar",itemStyle:{color:"rgba(217,159,8, 0.9)"},label:{show:!0,position:"top",fontSize:14,color:"rgba(217,159,8, 0.9)"}},{name:"收入",data:[120,200,150,80,70,110,130],type:"bar",itemStyle:{color:"rgba(76, 152, 112, 0.9)"},label:{show:!0,position:"top",fontSize:14,color:"rgba(76, 152, 112, 0.9)"}},{name:"不计收支",data:[120,200,150,80,70,110,130],type:"bar",itemStyle:{color:"rgba(66, 66, 66, 0.9)"},label:{show:!0,position:"top",fontSize:14,color:"rgba(66, 66, 66, 0.9)"}}]});let u,l;const m=()=>{y().then(a=>{if(a){if(a.length===0){console.log("MonthBar未查询到数据！");return}o.length=0,s.length=0,r.length=0,a.forEach(e=>{i.push(e.type),o.push(Number(e.typeSum).toFixed(2)),s.push(Number(e.inSum).toFixed(2)),r.push(Number(e.zeroSum).toFixed(2))}),t.value.series[0].data=o,t.value.series[1].data=s,t.value.series[2].data=r,t.value.xAxis.data=i,u=document.getElementById("pieDiv"),l=d(u),l.setOption(t.value),l.on("click",function(e){w(),p.startDay=e.name+"-01",p.endDay=e.name+"-31",B.chartDiaLogShow=!1,D.value.visible=!0})}})};return b(()=>{m()}),(a,e)=>(f(),x(v,null,[c("h4",null,_(n.title),1),c("div",{id:"pieDiv",style:S(n.style)},null,4)],64))}});const A=F(z,[["__scopeId","data-v-25450851"]]);export{A as default};
